<!doctype html>
<html lang="en">
  <head>
    <title>ওয়াসা স্ক্যাডা </title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- favicon -->
    <link rel="icon" type="image/png" href="http://dwasa.org.bd/wp-content/uploads/2015/09/wasa.png" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
</head>
  <body>
    <!-- Navbar -->
    <nav class="navbar">
        <a class="navbar-brand" href="#">
            <img src="http://dwasa.org.bd/wp-content/uploads/2015/09/wasa.png" width="55" height="55" class="d-inline-block align-top" alt="ওয়াসা স্ক্যাডা">
            ওয়াসা স্ক্যাডা
        </a>
        <a class="navbar-text" href="https://www.google.com/" target="_blank">
            গুগল  
        </a>
    </nav>
    <div class="container">
        <div class="row">
            <!-- 
                Left Column 
            -->
            <div id="left" class="col-12 col-md-4">
                <div class="bootstrap-vertical-nav">
                    <h4><b>পাম্প স্টেশন লিস্ট</b></h4>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" id="send" href="#">বকশি বাজার PRV স্টেশন</a>
                        </li>
                    </ul>
                </div>

            </div>
            <!-- end Left column -->
            <!-- 
                Right Column 
            -->
            <div id="right" class="col-12 col-md-8">
                <h3 id="station">
                        স্টেশন আইডি  
                    <b><span id="station_id">-</span></b>
                </h3>
                <!-- Cards LIne 1 -->
                <div class="card-deck">
                    <div class="card card-inverse  text-center">
                        <div class="card-block">
                        <h4 class="card-title">ব্যাটারি ভোল্টেজ</h4>
                        <p id="battery_voltage" class="card-text">-</p>                
                        </div>
                    </div>
                    <div class="card card-inverse  text-center">
                        <div class="card-block">
                        <h4 class="card-title">টারবাইন ভোল্টেজ</h4>
                        <p id="turbine_voltage" class="card-text">-</p>                
                        </div>
                    </div>
                </div>
        
                <!-- Cards LIne 2-->
                <div class="card-deck">
                    <div class="card card-inverse  text-center">
                        <div class="card-block">
                        <h4 class="card-title">ইনলেট প্রেশার</h4>
                        <p id="inlet_pressure" class="card-text">-</p>                
                        </div>
                    </div>
                    <div class="card card-inverse  text-center">
                        <div class="card-block">
                        <h4 class="card-title">আউটলেট প্রেশার</h4>
                        <p id="outlet_pressure" class="card-text">-</p>
                        </div>
                    </div>
                </div>
        
                <!-- Cards  LIne 3-->
                <div class="card-deck">
                    <div class="card card-inverse  text-center">
                        <div class="card-block">
                        <h4 class="card-title">ফ্লো  রেট প্রতি মিনিট</h4>
                        <p id="flowrate" class="card-text">-</p>
                        </div>
                    </div>
                    <div class="card card-inverse  text-center">
                        <div class="card-block">
                        <h4 class="card-title">ওপেনিং</h4>
                        <p id="opening" class="card-text">-</p>                                
                        </div>
                    </div>
                </div>
        
                <!-- Cards  LIne 4-->
                <div class="card-deck">
                    <div class="card card-inverse  text-center">
                        <div class="card-block">
                        <h4 class="card-title">সেট ভ্যালু</h4>
                        <p id="set_value" class="card-text">-</p>                
                        </div>
                    </div>
                    <div class="card card-inverse  text-center">
                        <div class="card-block">
                        <h4 class="card-title">মোটর পানির প্রবাহ</h4>
                        <p id="total_flow" class="card-text">-</p>                                
                        </div>
                    </div>
                </div>
                <!-- Cards  LIne 5-->
                <div class="card-deck">
                    <div class="card card-inverse  text-center">
                        <div class="card-block">
                        <h4 class="card-title">ভেতরের ইনলেট প্রেশার</h4>
                        <p id="inside_inlet_pressure" class="card-text">-</p>                
                        </div>
                    </div>
                    <div class="card card-inverse  text-center">
                        <div class="card-block">
                        <h4 class="card-title">ভেতরের আউটলেট প্রেশার</h4>
                        <p id="inside_outlet_pressure" class="card-text">-</p>                                
                        </div>
                    </div>
                </div>
                <!-- Gif of pupm -->
                <div id="gif">
                    <img src="tube.gif" alt="tube"/>
                </div>
            </div>
            <!-- end Right column -->
        </div>
        <!-- end column -->

    </div>
    

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function(){ 
            // making connections
            var socket = io.connect("http://localhost:9001");
            //var socket = io.connect("http://116.193.218.253:9001");

            var stn_no = $('#stn_no');            
            var btn = $("#send");
            //emit events
            btn.bind('click', function (event) {
                event.preventDefault();
                socket.emit('chat', {
                    station_id: 001
                });
            });

            // listen events
            socket.on('chat', function (dataobj) {
                $('#station_id').text(dataobj.station_id);
                $('#battery_voltage').text(dataobj.batt_stat);
                $('#turbine_voltage').text(dataobj.turb_vol);
                $('#inlet_pressure').text(dataobj.inlet_pr);

                $('#outlet_pressure').text(dataobj.outlet_pr);
                $('#flowrate').text(dataobj.flowrate);
                $('#opening').text(dataobj.per_open);
                $('#set_value').text(dataobj.set_val);
                $('#total_flow').text(dataobj.total_flow); 

                //  Set your dataobj for this two please!!!!!!!!!!!!!!!!!!!!!!!!
                $('#inside_inlet_pressure').text(dataobj.inside_inlet_pr);
                $('#inside_outlet_pressure').text(dataobj.inside_outlet_pr); 
            });

        });
    </script>
  </body>
</html>